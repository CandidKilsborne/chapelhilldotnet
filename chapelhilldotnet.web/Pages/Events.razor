@page "/events"

<div class="flex flex-col min-h-screen dark:bg-gray-900 dark:text-white">
    <!-- Header Section -->
    <header class="bg-white dark:bg-gray-800 shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="/" class="flex items-center space-x-2">
                <CalendarIcon class="h-8 w-8 text-blue-600 dark:text-blue-400"/>
                <span class="text-xl font-bold text-gray-800 dark:text-white">CH .NET & Azure Events</span>
            </a>
            <nav class="hidden md:flex space-x-4">
                <a href="/"
                   class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Home</a>
                <a href="#upcoming"
                   class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Upcoming
                    Events</a>
                <a href="#past" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Past
                    Events</a>
            </nav>
            <DarkModeToggle/>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- Upcoming Events Section -->
        <section id="upcoming" class="mb-12">
            <h2 class="text-3xl font-bold mb-6">Upcoming Events</h2>
            <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                @foreach (var upcomingEvent in UpcomingEvents)
                {
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                        @* <h3 class="text-xl font-semibold mb-2">@event.Title</h3> *@
                        <div class="flex items-center space-x-2 text-gray-600 dark:text-gray-300 mb-2">
                            <CalendarIcon class="h-5 w-5"/>
                            <span>@upcomingEvent.Date.ToShortDateString()</span>
                        </div>
                        <div class="flex items-center space-x-2 text-gray-600 dark:text-gray-300 mb-2">
                            <ClockIcon class="h-5 w-5"/>
                            <span>@upcomingEvent.Time</span>
                        </div>
                        <div class="flex items-center space-x-2 text-gray-600 dark:text-gray-300 mb-2">
                            <MapPinIcon class="h-5 w-5"/>
                            <span>@upcomingEvent.Location</span>
                        </div>
                        <div class="flex items-center space-x-2 text-gray-600 dark:text-gray-300 mb-4">
                            <UsersIcon class="h-5 w-5"/>
                            <span>@upcomingEvent.Attendees attendees</span>
                        </div>
                        <button class="btn btn-primary w-full">RSVP Now</button>
                    </div>
                }
            </div>
        </section>

        <!-- Past Events Section -->
        <section id="past" class="mb-12">
            <h2 class="text-3xl font-bold mb-6">Past Events</h2>
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                <table class="w-full">
                    <thead class="bg-gray-50 dark:bg-gray-700">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                            Event
                        </th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                            Date
                        </th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                            Location
                        </th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                            Resources
                        </th>
                    </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 dark:divide-gray-600">
                    @foreach (var pastEvent in PastEvents)
                    {
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap">@pastEvent.Title</td>
                            <td class="px-6 py-4 whitespace-nowrap">@pastEvent.Date.ToShortDateString()</td>
                            <td class="px-6 py-4 whitespace-nowrap">@pastEvent.Location</td>
                            <td class="px-6 py-4 whitespace-nowrap">
                                <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Slides</a> |
                                <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Recording</a>
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section class="bg-blue-100 dark:bg-blue-900 rounded-lg p-8 text-center">
            <h2 class="text-2xl font-bold mb-4">Want to speak at our next event?</h2>
            <p class="mb-6 text-gray-700 dark:text-gray-300">
                We're always looking for speakers to share their knowledge and experience with our community.
            </p>
            <button class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 btn btn-primary">
                Submit a Talk Proposal
            </button>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 dark:bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p>&copy; @(DateTime.Now.Year) Chapel Hill .NET & Azure Meetup. All rights reserved.</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-400 hover:text-white">Twitter</a>
                    <a href="#" class="text-gray-400 hover:text-white">GitHub</a>
                </div>
            </div>
        </div>
    </footer>
</div>

@code {

    public List<Event> UpcomingEvents { get; set; } = new()
    {
        new Event { Id = 1, Title = "Introduction to Azure Functions", Date = new DateTime(2023, 7, 15), Time = "6:30 PM - 8:30 PM", Location = "Chapel Hill Tech Hub", Attendees = 42 },
        new Event { Id = 2, Title = "Building Microservices with .NET 6", Date = new DateTime(2023, 8, 5), Time = "6:30 PM - 8:30 PM", Location = "UNC Computer Science Building", Attendees = 38 },
        new Event { Id = 3, Title = "Azure DevOps: CI/CD Pipeline Workshop", Date = new DateTime(2023, 8, 26), Time = "10:00 AM - 2:00 PM", Location = "Chapel Hill Public Library", Attendees = 30 },
    };

    public List<Event> PastEvents { get; set; } = new()
    {
        new Event { Id = 4, Title = "Getting Started with Blazor", Date = new DateTime(2023, 6, 10), Location = "Virtual Meetup" },
        new Event { Id = 5, Title = ".NET MAUI: Cross-platform Development", Date = new DateTime(2023, 5, 20), Location = "Chapel Hill Tech Hub" },
        new Event { Id = 6, Title = "Azure Cosmos DB: Deep Dive", Date = new DateTime(2023, 4, 29), Location = "UNC Computer Science Building" },
    };

    public class Event
    {
        public int Id { get; set; }
        public string Title { get; set; }
        public DateTime Date { get; set; }
        public string Time { get; set; }
        public string Location { get; set; }
        public int? Attendees { get; set; }
    }

    // Placeholder for icons
    private string CalendarIcon(string @class) => "<!-- Calendar Icon Placeholder -->";
    private string ClockIcon(string @class) => "<!-- Clock Icon Placeholder -->";
    private string MapPinIcon(string @class) => "<!-- Map Pin Icon Placeholder -->";
    private string UsersIcon(string @class) => "<!-- Users Icon Placeholder -->";
}